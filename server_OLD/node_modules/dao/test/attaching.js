var dao = require('./..');

describe('Attaching', function () {
  it('"app.use() should return an instance of dao to allow chainable using"', function() {
    var app = dao.App();
    app.use({}).should.equal(app);
  })

  it('application should be passed into "plugin.init()"', function() {
    var thisRefersTo;
    var plugin = { attach : function(opts) { thisRefersTo = this; } }
      , app = dao.App().use(plugin);

    thisRefersTo.should.equal(app);
  });
})